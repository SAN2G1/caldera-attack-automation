## KISA TTPs 2 원본 vs 단순화 시뮬레이션 비교표

| 단계                     | KISA TTPs 2 (보고서 원본)              | 단순화 시뮬레이션 구현 방식                                         | 논리 보존      |
| ---------------------- | --------------------------------- | ------------------------------------------------------- | ---------- |
| 1. 정찰 (Reconnaissance) | 공개 웹사이트에서 이메일, IP, 조직 정보 수집       | IIS 정적 웹페이지(staff.html, security.html)에서 이메일 패턴 및 정책 노출 | ✅          |
| 2. 대상 선별               | IP 주소 조건에 따라 악성코드 전달 여부 결정        | 특정 IP 대역(192.168.56.0/24)에서만 시나리오 진행                    | ✅          |
| 3. 공격 인프라 확보           | 다수 웹사이트가 호스팅된 서버 장악               | Flask 기반 공격자 서버(API 역할) 구축                              | ✅          |
| 4. 스피어피싱 콘텐츠 제작        | 업무 연관성이 높은 한글 문서 제작               | “피싱 메일 생성”을 로그/텍스트 파일로 시뮬레이션                            | ✅          |
| 5. 문서 기반 초기 침투         | 악성 HWP 문서 열람 시 코드 실행              | 피싱 링크 클릭(GET/POST) 이벤트로 대체                              | ⚠️ (행위 대체) |
| 6. 워터링홀 공격             | 취약한 웹사이트에 익스플로잇 삽입                | 공격자 서버 접속 트리거로 단순화                                      | ⚠️         |
| 7. 조건부 페이로드 전달         | URL, 요청 조건 만족 시 악성코드 제공           | `/login` 요청 시 agent 다운로드 URL 반환                         | ✅          |
| 8. 실행 (Execution)      | CreateProcessW / explorer.exe 인젝션 | sandcat.ps1 다운로드 후 Start-Process 실행                     | ⚠️ (기술 축소) |
| 9. 아키텍처별 페이로드          | 32/64비트 구분 후 복호화                  | 단일 에이전트 사용 (환경 통일)                                      | ❌ (축소)     |
| 10. 지속성 확보             | 서비스, DLL, 시작폴더 등록                 | Run/RunOnce 또는 스케줄러 1종만 사용                              | ⚠️         |
| 11. 권한 상승              | CVE-2014-4113, UACME              | **완전 스킵** (보고서 설명만 유지)                                  | ❌          |
| 12. 방어 회피              | 패킹, 암호화, 로그 삭제                    | 파일명 위장 + 임시파일 정리                                        | ⚠️         |
| 13. 자격 증명 탈취           | 키로거, DB 설정, NTLM 캡처               | 더미 크리덴셜 파일 생성                                           | ⚠️         |
| 14. 내부 정찰              | WMI, net, registry, 서비스 열거        | systeminfo, Get-ChildItem, ipconfig                     | ✅          |
| 15. 측면 이동              | admin$ 접근, 네트워크 확산                | **스킵** (범위 외)                                           | ❌          |
| 16. 데이터 수집             | 조직 문서, 로그, DB 설정 수집               | `C:\Users\Public\data\` 더미 문서 수집                        | ✅          |
| 17. 데이터 스테이징           | TEMP 파일에 결과 저장                    | Temp 폴더에 zip 생성                                         | ✅          |
| 18. 암호화 및 분할           | RC4/AES, 90KB 분할                  | zip 단일 파일 (분할 선택)                                       | ⚠️         |
| 19. 데이터 유출             | 공격자 서버로 업로드                       | `/upload` API로 HTTP POST                                | ✅          |
| 20. 영향 (Impact)        | 웹 소스 변조, 흔적 제거                    | 파일 삭제로 종료                                               | ⚠️         |

---

## 핵심 정리 (보고서용 문장으로 바로 사용 가능)

> 본 시뮬레이션은 KISA TTPs 2 보고서의 전체 공격 흐름을 기반으로 하되,
> 실제 악성코드 개발 및 취약점 공격 대신 **정적 웹 페이지, API 트리거, 더미 파일 수집** 방식으로 단순화하였다.
> 각 단계는 **공격자의 의도와 논리적 흐름을 유지**하면서도,
> **Caldera 기반 실습 환경에서 안정적으로 재현 가능하도록 설계**되었다.

---

## 교수님 질문 대비 한 줄 답변 (중요)

* ❓ “왜 CVE나 UAC 우회는 안 했나요?”
  → *훈련 환경에서 불안정하며, 공격 논리 이해에는 필수적이지 않기 때문입니다.*

* ❓ “이게 실제 공격이랑 다르지 않나요?”
  → *행위 수준은 다르지만, 단계 흐름과 공격 의도는 동일합니다.*
